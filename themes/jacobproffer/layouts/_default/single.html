{{ define "title" }}
  {{ .Title }} - {{ .Site.Title }}
{{ end }}

{{ define "main" }}

  <main>

    <article class="single page-spacing spacing">

      <div class="container">

        <h1 class="text-shadow">{{ .Title }}</h1>

        <div class="single__grid grid">

          <div>

            {{ .Content }}

          </div>

          <footer class="single__footer grid border-grid">

            <div class="single__footer-item border-grid-item flex">

              <h3>Date</h3>

              <time class="single__date">{{ .Date.Format "Jan 2, 2006" }}</time>

            </div>

            <div class="single__footer-item border-grid-item flex">

              <h3>Tags</h3>

              {{ if (.GetTerms "tags") }}

                <ul class="tags unstyled-list">

                  {{ range (.GetTerms "tags") }}

                    <li>
                      <a class="category" href="{{ .Permalink }}">
                        {{ .LinkTitle }}
                      </a>
                    </li>

                  {{ end }}

                </ul>

              {{ end }}

            </div>

          </footer>

        </div>

      </div>

    </article>

  </main>

  {{ $related := .Site.RegularPages.Related . | first 4 }}

  {{ if gt (len $related) 1 }}

    <aside class="spacing page-spacing">
      <div class="container">
        <div class="single__container">

          {{ $related := .Site.RegularPages.Related . | first 4 }}

          {{ with $related }}

            <h2 class="subheading">Related Posts</h2>

            <ul class="unstyled-list grid grid--list">

              {{ range . }}
                <li class="list__post gray-hover">
                  {{ .Render "article-related" }}
                </li>
              {{ end }}

            </ul>

          {{ end }}

        </div>
      </div>
    </aside>

  {{ end }}

{{ end }}
